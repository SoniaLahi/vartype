<html lang="en" onclick="keyPressed()">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Variab</title>
    <link href="stylesheet.css" rel='stylesheet' type='text/css'>
</head>
    <body onload="start()" onkeydown="keyPressed()">
        <header>

        </header>
        <div>
		    <p class="text" style="display:block;">x-height1</p>
		    <p class="text">x-height2</p>
		    <p class="text">x-height3</p>
		    <p class="text">x-height4</p>
		    <div style="height:20px; width:70%; margin:0 auto;">
			    <div style="height:5px; border-radius:5px; background-color:black; margin:auto; top:75%; position:relative; -ms-transform: translateY(-50%);transform: translateY(-50%);"></div>
			    <div class="slider"></div>
		    </div>
            <p class="currant">Hit <strong>(spacebar)</strong><br>to validate</p>
			<p class="r">0,0</p>
			<p class="r">score</p>	
        </div>
		
		<script>
		var k=false;
		var id = setInterval(loop, 10);
		var t=0,sldr=0,r=1,lvl=0,step=0,score=[],wait=0,prm=50;
		function loop() {
			if(k && wait==0) {
				score.push(Math.floor(Math.abs(sldr-prm)*r));
				document.getElementsByClassName("r")[1].innerHTML=score;
				t=0;
				wait++;
				document.getElementsByClassName("text")[step].style.display="none";
				document.getElementsByClassName("slider")[0].style.opacity=0;
				step++;
				if(step==4) {
					lvl++;
					step=0
				}
				document.getElementsByClassName("text")[step].style.display="block";
				document.getElementsByClassName("text")[step].style.opacity=0;
				prm= (document.getElementsByClassName("text")[step].style.fontWeight-100)/6;
			}
			if(wait==0) {
				t++;
				r=Math.floor(t/100)+1;
				sldr=-Math.cos(t/100*Math.PI)*50+50;
				document.getElementsByClassName("text")[step].style.fontWeight=sldr*6+100;
				document.getElementsByClassName("slider")[0].style.marginLeft=sldr+"%";
			} else {
				wait++;
				switch(wait) {
					case 80:
						document.getElementsByClassName("text")[step].style.opacity=255;
						break;
					case 120:
						document.getElementsByClassName("text")[step].style.opacity=0;
						break;
					case 200:
						document.getElementsByClassName("text")[step].style.opacity=255;
						document.getElementsByClassName("slider")[0].style.opacity=255;
						wait=0;
						k=false;
						break;
				}
			}
			document.getElementsByClassName("r")[0].innerHTML=r+", "+step+", "+prm+", "+sldr;
		}
		function keyPressed() {
			if(event.key=="Escape") {
				clearInterval(id);
			}
			k=true;
		}
		</script>
	</body>
</html>
